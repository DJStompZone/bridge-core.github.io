{"hash":"5f300c5c93b91cbcdfcb82f133eb326720396182","data":{"markdownPage":{"id":"c0dad180342fd87b38d41703e1244a92","title":"Custom Components","description":"","path":"/plugin-docs/custom-components/","timeToRead":1,"content":"<h1 id=\"custom-components\"><a href=\"#custom-components\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Custom Components</h1>\n<h2 id=\"general\"><a href=\"#general\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>General</h2>\n<p>bridge. allows you to define new entity components. In order to get started, create a <code>components/</code> folder inside of your project or a <code>&#x3C;PLUGIN NAME>/components</code> inside of your plugin folder and place a first JavaScript (.js) file inside of it. The name of the file does not matter.</p>\n<h2 id=\"execution-scope\"><a href=\"#execution-scope\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Execution Scope</h2>\n<p>JavaScript files placed inside of this folder have access to the <code>Bridge</code> object. Available methods:</p>\n<ul>\n<li><code>Bridge.register</code> registers a custom component. This method expects a JavaScript class with the static properties <code>component_name</code> &#x26; <code>type</code> and the two instance methods <code>onApply(component_data, location)</code> &#x26; <code>onPropose()</code>.</li>\n<li><code>Bridge.report(string)</code> opens an information window that contains the given string</li>\n</ul>\n<h3 id=\"onapplycomponent_data-location\"><a href=\"#onapplycomponent_data-location\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>onApply(component_data, location)</code></h3>\n<p><code>onApply(component_data, location)</code> receives the <code>component_data</code> entered by the user and where the component was placed (<code>location</code>). Can be \"components\" or the name of a component group. This method must return an entity object to merge with the actual file. Must return a Minecraft entity.</p>\n<h3 id=\"onpropose\"><a href=\"#onpropose\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code>onPropose()</code></h3>\n<p><code>onPropose()</code> must return an auto-completion object. It should only have one property (named your custom component name) which should replicate the structure of the custom component. <a href=\"/plugin-docs/auto-completions/\">Read more about bridge.'s auto-completion JSON format.</a></p>\n<h2 id=\"example\"><a href=\"#example\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Example</h2>\n<h3 id=\"entity-component\"><a href=\"#entity-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Entity Component</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token maybe-class-name\">Bridge</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">register</span><span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">class</span> <span class=\"token class-name\">DemoComponent</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">static</span> component_name <span class=\"token operator\">=</span> <span class=\"token string\">'bridge:demo_npc'</span>\n\t\t<span class=\"token keyword\">static</span> type <span class=\"token operator\">=</span> <span class=\"token string\">'entity'</span>\n\n\t\t<span class=\"token function\">onApply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> trade_table<span class=\"token punctuation\">,</span> display_name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token dom variable\">location</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token string\">'minecraft:entity'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tcomponent_groups<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t<span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">DemoComponent</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">component_name</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:trade_table'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tdisplay_name<span class=\"token operator\">:</span> display_name<span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t\ttable<span class=\"token operator\">:</span> trade_table<span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:behavior.trade_with_player'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tpriority<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token string\">'minecraft:behavior.look_at_trading_player'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t\t\tpriority<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token function\">onPropose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">DemoComponent</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">component_name</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tdisplay_name<span class=\"token operator\">:</span> <span class=\"token string\">'$general.translatable_text'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\ttrade_table<span class=\"token operator\">:</span> <span class=\"token string\">'$dynamic.trade_table_files'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"block-component\"><a href=\"#block-component\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Block Component</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token maybe-class-name\">Bridge</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">register</span><span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">class</span> <span class=\"token class-name\">BlockComponent</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">static</span> component_name <span class=\"token operator\">=</span> <span class=\"token string\">'bridge:rotation_wrapper'</span>\n\t\t<span class=\"token keyword\">static</span> type <span class=\"token operator\">=</span> <span class=\"token string\">'block'</span>\n\n\t\t<span class=\"token function\">onApply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> rotation <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token string\">'minecraft:block'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\tcomponents<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\t\t<span class=\"token string\">'minecraft:rotation'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>rotation<span class=\"token punctuation\">,</span> rotation<span class=\"token punctuation\">,</span> rotation<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token function\">onPropose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token punctuation\">[</span><span class=\"token maybe-class-name\">BlockComponent</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">component_name</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t\trotation<span class=\"token operator\">:</span> <span class=\"token string\">'$general.degree'</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span></code></pre>\n","sidebar":"plugins","next":"","prev":"","author":null,"headings":[{"depth":1,"value":"Custom Components","anchor":"#custom-components"},{"depth":2,"value":"General","anchor":"#general"},{"depth":2,"value":"Execution Scope","anchor":"#execution-scope"},{"depth":3,"value":"onApply(component_data, location)","anchor":"#onapplycomponent_data-location"},{"depth":3,"value":"onPropose()","anchor":"#onpropose"},{"depth":2,"value":"Example","anchor":"#example"},{"depth":3,"value":"Entity Component","anchor":"#entity-component"},{"depth":3,"value":"Block Component","anchor":"#block-component"}],"fileInfo":{"path":"plugin-docs/custom-components.md"}},"allMarkdownPage":{"edges":[{"node":{"path":"/plugin-docs/other/styles/","title":"Styles"}},{"node":{"path":"/plugin-docs/other/default-file-types/","title":"Default File Types"}},{"node":{"path":"/plugin-docs/other/common-types/","title":"Common Types"}},{"node":{"path":"/plugin-docs/modules/windows/","title":"@bridge/windows"}},{"node":{"path":"/plugin-docs/modules/utils/","title":"@bridge/utils"}},{"node":{"path":"/plugin-docs/modules/ui/","title":"@bridge/ui"}},{"node":{"path":"/plugin-docs/modules/toolbar/","title":"@bridge/toolbar"}},{"node":{"path":"/plugin-docs/modules/sidebar/","title":"@bridge/sidebar"}},{"node":{"path":"/plugin-docs/modules/path/","title":"@bridge/path"}},{"node":{"path":"/plugin-docs/modules/","title":"Plugin Modules"}},{"node":{"path":"/plugin-docs/modules/globals/","title":"@bridge/globals"}},{"node":{"path":"/plugin-docs/modules/fs/","title":"@bridge/fs"}},{"node":{"path":"/plugin-docs/modules/footer/","title":"@bridge/notification"}},{"node":{"path":"/plugin-docs/modules/file-importer/","title":"@bridge/file-importer"}},{"node":{"path":"/plugin-docs/modules/fetch-definition/","title":"@bridge/fetch-definition"}},{"node":{"path":"/plugin-docs/modules/env/","title":"@bridge/env"}},{"node":{"path":"/plugin-docs/modules/compare-versions/","title":"@bridge/compare-versions"}},{"node":{"path":"/plugin-docs/json/themes/","title":"Themes"}},{"node":{"path":"/plugin-docs/json/snippets/","title":"Snippets"}},{"node":{"path":"/plugin-docs/json/presetsv2/","title":"Presets v2"}},{"node":{"path":"/plugin-docs/json/lightning-cache/","title":"Lightning Cache"}},{"node":{"path":"/plugin-docs/json/presets/","title":"Presets"}},{"node":{"path":"/plugin-docs/json/file-definitions/","title":"File Definitions"}},{"node":{"path":"/plugin-docs/auto-completions/","title":"Auto-Completions"}},{"node":{"path":"/plugin-docs/auto-completions/dynamic-references/","title":"Dynamic References"}},{"node":{"path":"/editor-docs/other/molang/","title":"MoLang"}},{"node":{"path":"/editor-docs/getting-started/","title":"Getting Started"}},{"node":{"path":"/editor-docs/faq/","title":"FAQ"}},{"node":{"path":"/plugin-docs/","title":"Plugin API"}},{"node":{"path":"/plugin-docs/custom-components/","title":"Custom Components"}},{"node":{"path":"/plugin-docs/custom-commands/","title":"Custom Commands"}},{"node":{"path":"/plugin-docs/contributing/","title":"Contributing Plugins"}},{"node":{"path":"/editor-docs/no-cache/","title":"No Cache File"}},{"node":{"path":"/editor-docs/","title":"Editor"}},{"node":{"path":"/editor-docs/features/","title":"Feature Overview"}}]}},"context":{}}